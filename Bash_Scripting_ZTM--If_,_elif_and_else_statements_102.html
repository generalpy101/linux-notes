<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>If , elif and else statements</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>If , elif and else statements</h1><br/><p>if, elif and else statements are basic control statements of bash scripting language.</p><p></p><p>These statements check test for a condition and execute commands accordingly.</p><p></p><p>Syntax of these statments are :</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">if</span> [ testing_condition ]<br /><span style="color:#ff9d00;font-weight:700">then</span><br />    commands<br /><span style="color:#ff9d00;font-weight:700">elif</span> [ testing_conditions ]<br /><span style="color:#ff9d00;font-weight:700">then</span><br />    commands<br /><span style="color:#ff9d00;font-weight:700">else</span><br />    commands<br /><span style="color:#ff9d00;font-weight:700">fi</span></pre></div></p><p>Note that when testing conditions, there should be a space between square brackets and the conditions. If can occur alone but elif and else always occur with if. fi is used to end if block.</p><p></p><p>When if condition fails, then if present, control is tranferred to elif statements and then finally to else if all elif statments fail to or are not present.</p><p></p><p>Let&#39;s look at an example.</p><p></p><p><img src="images/102-1.png" alt="images/102-1.png" /></p><p></p><p>As we can see in image above, our script fails if non regular files or non existing files are passed as an argument.</p><p></p><p>Let&#39;s use if conditions.</p><p></p><p><img src="images/102-2.png" alt="images/102-2.png" /></p><p></p><p>In above program we added a testing condition -f which checks if the file exists and is regular file. If yes then cat else do nothing. There are many testing conditions which can be found using man test.</p><p></p><p><img src="images/102-3.png" alt="images/102-3.png" /></p><p></p><p>We modifed the script to add elif and else. elif checks if file exists and is a directory.</p><p></p><p>Note that it is always good to enclose user input inside the quotes as input can also be space separated string and quotes will take care of that.</p><p></p><p>The square brackets we use for testing is the old syntax. There is also a new and reliable syntax which can be used to to test conditions. We use double square brackets instead of single square brackets.</p><p></p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">if</span> [[ -f <span style="color:#7f0044;font-weight:400">$1</span> ]]<br /><span style="color:#ff9d00;font-weight:700">then</span> <br />    <span style="color:#ff9d00;font-weight:700">cat</span> <span style="color:#7f0044;font-weight:400">$1</span><br /><span style="color:#ff9d00;font-weight:700">fi</span></pre></div></p><p>The double brackets is a more secure approach as it provides benefits like automaticlly quoting string so that we don&#39;t have to add quotes for space separated strings.</p><p></p><p><h2>Testing numbers</h2><h2> </h2></p><p></p><p><img src="images/102-4.png" alt="images/102-4.png" /></p><p>Above testing conditions are used to test integers.</p><p></p><p><img src="images/102-5.png" alt="images/102-5.png" /></p><p></p><p><h2>Nested if and multiple conditions</h2></p><p></p><p>We can check for multiple conditions using &amp;&amp;(and) and ||(or) operators.</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">if</span> [ condition ] <span style="color:#ff9d00;font-weight:700">&amp;&amp;</span> [ condition2 ] ...<br /><span style="color:#ff9d00;font-weight:700">then</span><br />    commands<br /><span style="color:#ff9d00;font-weight:700">fi</span></pre></div></p><p></p><p>Let&#39;s edit our voting program.</p><p></p><p><strong>[To indent multiple lines in vim, press shift + v, then select lines using arrow keys and after that press &gt; or shift + . to right indent lines].</strong></p><p><img src="images/102-6.png" alt="images/102-6.png" /></p><p></p><p>Here we added and with more conditions.</p><p></p><p><em><strong>if [ condtion ]</strong></em><strong> is equal to </strong><em><strong>if test condition</strong></em></p><p></p><p>We can also write then in same line.</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">if</span> [ condition ]<span style="color:#ff9d00;font-weight:700">;</span> <span style="color:#ff9d00;font-weight:700">then</span></pre></div></p></div>
</body>
</html>
