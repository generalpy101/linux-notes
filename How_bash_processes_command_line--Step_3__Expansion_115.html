<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Step 3 : Expansion</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Step 3 : Expansion</h1><br/><p>After command identification, expansion are done. </p><p></p><p>Expansions are done in stages with the order of the expansion depending on the stage. Stage less , executed first.</p><p></p><p>Expansions on same stage are expanded with same priority and according to which comes first when reading from left to right.</p><p></p><p>Stages of expansion are :</p><p></p><p><img src="images/115-1.png" alt="images/115-1.png" /></p><p></p><p>Brace expansions are resolved first. After brace resolution, parameter, arithmetic, command and tilde expansions are resolved. This means that you cannot stage 2 expansions inside of stage 1 expansions. This rule apply to every expansion, lower stage expansions cannot use upper stage resolutions.</p><p></p><p><img src="images/115-2.png" alt="images/115-2.png" /></p><p></p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">echo</span> <span style="color:#7f0044;font-weight:400">$name</span><span style="color:#ff9d00;font-weight:700">{</span>1..3<span style="color:#ff9d00;font-weight:700">}</span> has $<span style="color:#ff9d00;font-weight:700">((</span>4+3<span style="color:#ff9d00;font-weight:700">))</span> apples</pre></div></p><p></p><p>In above example, brace expansions are evaluated first followed by parameter expansion which occurs before arithmetic expansion when read left to right.</p><p></p><p><strong><span style="text-decoration:underline;">Word Splitting</span></strong></p><p></p><p>Word splitting is the method of splitting result of some unquoted expansions into individual words. It is somewhat like tokenization.</p><p></p><p>It only applies to parameter, arithmetic and command substitution expansions which are unquoted.</p><p></p><p>Like tokenisation uses metacharacters, word splitting uses some characters defined by <strong>IFS</strong>(internal field separator) variable to separate the words.By default value of IFS is space, tabs and newline.</p><p></p><p>Let&#39;s look at some exapmples :</p><p></p><p><img src="images/115-3.png" alt="images/115-3.png" /></p><p></p><p>In the example above we defined 2 variables a and b with a being number 1 to 4 space separated and b being comma separated. Creating files with quoted expansion created file with whole word, no word splitting occured but when we used unquoted parameter expansion, word expansion is done and separate files are created. When we used comma separated values, no word splitting occured becuase comma is not is IFS variable so we added comma to IFS variable and splitting occurs. Last command prints value of IFS in readable format.</p><p></p><p>Simple conclusion is that we should use quotes when we don&#39;t want word splitting with expansions.</p><p></p><p><strong><span style="text-decoration:underline;">Globbing</span></strong></p><p></p><p>Globbing comes from the program glob which was created for early unix systems. Globbing matched unquoted special patterns with file names in current directory so it is also known as filename expansion.</p><p></p><p> * is a globbing character which is used to match 0 or more characters of any type.</p><p> <img src="images/115-4.png" alt="images/115-4.png" /></p><p>We can see how * mathces any text with 0 or more characters. * means any.</p><p></p><p>? is used to match exactly 1 character of any type.</p><p><img src="images/115-5.png" alt="images/115-5.png" /></p><p>We can see how ? is used to match exactly 1 character of any type. To match multiple characters we have to use multiple ?.</p><p></p><p>[ is used to match exactly 1 charcter but of specific type present in list of characters inside it enclosed in [].</p><p><img src="images/115-6.png" alt="images/115-6.png" /></p><p>We can see how [ matches 1 character specified in its list.</p></div>
</body>
</html>
