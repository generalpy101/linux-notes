<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Command Redirection</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Command Redirection</h1><br/><p>As mentioned in previous page, there are 3 different data streams in linux. We can redirect these streams into files using redirection operators which are available for every stream.</p><p></p><p>To redirect output stream to a file we use &gt;(greater than) operator.</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">command</span> &gt; &lt;file_name&gt;</pre></div></p><p>This will create a new file with file_name or will overwrite previous file and redirect STDOUT contents to it.</p><p></p><p><img src="images/23-1.png" alt="images/23-1.png" /></p><p>There might be a problem if we have to redirect output to same file without loosing its previous contents. To do that we can use &gt;&gt;. This will create the file if it doesn&#39;t exists else append to the file contents of STDOUT.</p><p><img src="images/23-2.png" alt="images/23-2.png" /></p><p>As we see in image above, contents are appended to file instead of being overwritten.</p><p></p><p>Each standard stream is given a number which is 0,1,2 for STDIN,STDOUT and STDERR respectively.</p><p></p><p>We can redirect STDERR by using these numbers. Under the hood , correct syntax for &gt; and &gt;&gt; is :</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">command</span> stream_code&gt; file_name</pre></div></p><p></p><p>Terminal defaults stream_code to 1 if not provided so we don&#39;t need to use it for output stream. For error stream we have to use stream code 2 to redirect STDERR to a file.</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">command</span> 2&gt; file_name</pre></div></p><p></p><p><img src="images/23-3.png" alt="images/23-3.png" /></p><p></p><p>Same numbering has to be used when redirecting and appending.</p><p></p><p>We can redirect both streams at same time.</p><p><img src="images/23-4.png" alt="images/23-4.png" /></p><p></p><p><img src="images/23-5.png" alt="images/23-5.png" /></p><p>In image above we redirected STDOUT to file out.txt and STDERR to STDOUT thus output was redirected to same file out.txt. Note here we used &amp;1 to get STDOUT&#39;s address, if write only then a file with name 1 will be created instead.</p><p></p><p>Since everything is a file in Linux, terminal can also be treated as a file. To get location of terminal, use tty command. We can redirect STDOUT or STDERR to terminal using that file location.</p><p></p><p><img src="images/23-6.png" alt="images/23-6.png" /></p><p></p><p>One thing to be noted here is that when we redirect STDOUT to a file, its contents are not printed on the terminal screen. To fix that behaviour we can use tee command.</p><p></p><p>tee commands comes from simple T where there are 3 ends. We can both redirect streams to file and terminal at same time.</p><p></p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">command</span> <span style="color:#ff9d00;font-weight:700">|</span> <span style="color:#ff9d00;font-weight:700">tee</span> <span style="color:#ff9d00;font-weight:700">file(</span>s<span style="color:#ff9d00;font-weight:700">)</span><br /><span style="color:#ff9d00;font-weight:700">tee</span> <span style="color:#ff9d00;font-weight:700">file(</span>s<span style="color:#ff9d00;font-weight:700">)</span>#this will start a prompt where we can enter values and the will be teed to <span style="color:#ff9d00;font-weight:700">file</span> and STDOUT</pre></div></p><p></p><p><img src="images/23-7.png" alt="images/23-7.png" /></p><p></p><p>By default tee overwrites the file but we can change that behaviour by using -a flag.</p></div>
</body>
</html>
