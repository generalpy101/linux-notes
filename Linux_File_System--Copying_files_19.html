<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Copying files</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Copying files</h1><br/><p><strong>cp</strong> command is used to copy files in linux. cp command perform different functions according to number and type of arguments supplied to it.</p><p></p><p><strong>All arguments are files</strong> : When we pass only files as arguments(generally 2 files), cp copies contents of file 1 to file 2, and if file 2 doesn&#39;t exists, create new file and then copy contents else overwrite it.</p><p></p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">cp</span> file1 file2<span style="color:#ff9d00;font-weight:700">;</span></pre></div></p><p><img src="images/19-1.png" alt="images/19-1.png" /></p><p></p><p>We can use -v flag to see what cp command is doing. v stands for verbose here.</p><p></p><p>When we overwrite a file using cp by default there is no prompt to ask whether overwrite the file. We can use -i flag to start showing prompt when overwriting a file.</p><p><img src="images/19-2.png" alt="images/19-2.png" /></p><p></p><p><strong>Multiple file arguments and one directory as arguments</strong> : In this case cp will create or overwrite all files specified inside the directory specified.</p><p></p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">cp</span> file1 file2 ... filen directory</pre></div> </p><p><img src="images/19-3.png" alt="images/19-3.png" /></p><p></p><p>-i flag also works for this case.</p><p></p><p><strong>All arguments are directories</strong> : When we pass 2 directories as arguments to cp command we have to use -r flag which stands for recursive else it will not work. cp in this case will copy dir1 inside of  dir2. sudo privileges might be required for files which are in admin area(like etc).</p><p></p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">cp</span> -r dir1 dir2</pre></div></p><p><img src="images/19-4.png" alt="images/19-4.png" /></p><p></p><p><strong>Change of file ownership using cp</strong> : </p><p><img src="images/19-5.png" alt="images/19-5.png" /> </p><p>As we can see in image above, owner and timestamp in copied file are not preserved which cannot be good sometimes. There is a -p flag which stands for preserve which preserves file permissions, owner and timestamps for newly copied file.</p><p></p><p><img src="images/19-6.png" alt="images/19-6.png" /></p><p>As we can see in r1 owner and timestamps are preserved.</p></div>
</body>
</html>
