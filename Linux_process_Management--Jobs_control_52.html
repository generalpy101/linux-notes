<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Jobs control</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Jobs control</h1><br/><p>Every background process has a job id associated with it. This job id is local to the terminal session and multiple sessions can have same job ids.</p><p></p><p><img src="images/52-1.png" alt="images/52-1.png" /></p><p></p><p>Note the numbers highlighted(in dark green) are job id. Process id is also listed and it is public,  managed by system kernel.</p><p></p><p>We can use jobs command to know current jobs.</p><p></p><p><img src="images/52-2.png" alt="images/52-2.png" /></p><p></p><p>Use -l flag to get process id also in jobs output. jobs also shows status of the job.</p><p></p><p>To bring any job to foreground , use fg command to bring it to foreground.</p><p></p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">fg</span> %jobid</pre></div></p><p></p><p><img src="images/52-3.png" alt="images/52-3.png" /></p><p>We can then bring a process to background again by pressing ctrl + z. The process is not terminated it is just suspended as we can see that it is still available in process list.</p><p></p><p>To resume an process in background, use <strong>bg</strong> command. Its syntax is same as fg.</p><p><img src="images/52-4.png" alt="images/52-4.png" /></p><p></p><p>What happens if terminal running process is closed or remote login is logged out? A SIGHUP(hang up) command is sent to the process, which will cause that process to hang up and ultimately it will be terminated. Note that for daemons SIGHUP means reload config as they have no terminals attached to them.</p><p></p><p>To prevent any command from receiving HUP signal, use nohup command.</p><p></p><p><div class="codebox"><pre>nohup <span style="color:#ff9d00;font-weight:700">command</span> <span style="color:#ff9d00;font-weight:700">&amp;</span></pre></div></p><p></p><p><img src="images/52-5.png" alt="images/52-5.png" /></p><p></p><p><img src="images/52-6.png" alt="images/52-6.png" /></p><p>Note how the sleep process is terminated. Lets use nohup.</p><p></p><p><img src="images/52-7.png" alt="images/52-7.png" /></p><p><img src="images/52-8.png" alt="images/52-8.png" /></p><p></p><p>If terminal is closed, the process is adopted by systemd or init process. </p><p></p><p>Output of nohup&#39;s command execution is added into file nohup.out which is created in current working dir or in user home dir if permissions are not available for current working directory.</p></div>
</body>
</html>
