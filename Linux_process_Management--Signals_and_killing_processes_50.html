<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Signals and killing processes</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Signals and killing processes</h1><br/><p>There are a lot of times when a process becomes unnresponsive or takes up too much resources and we want to end it in those situatuions.</p><p></p><p>These tasks are done in linux by sending signals to a process. Signals are like special notifications to a process which invites it to do something. Invite is used here as process can also reject a signal.</p><p></p><p>There are multiple signals available in linux. kill command is used to send signals to processes using process id.</p><p></p><p>To see all available signals use -l flag with kill.</p><p></p><p><img src="images/50-1.png" alt="images/50-1.png" /></p><p></p><p>Each signal is assigned a number and signal names prefixed by SIG. Each signal has its own purpose.</p><p></p><p>There are 3 ways in which we can send signals using kill.</p><p></p><p>1.</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">kill</span> -number_of_signal pid<span style="color:#ff9d00;font-weight:700">(</span>s<span style="color:#ff9d00;font-weight:700">)</span></pre></div></p><p></p><p><img src="images/50-2.png" alt="images/50-2.png" /></p><p></p><p>We sent SIGNINT signal which is an interupt signal. When we press ctrl + c in terminal , we send this signal automatically to the process.</p><p></p><p>We can use pidof command to get id of any running process, provided that name is correct.</p><p></p><p>2.</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">kill</span> -signal_name_without_SIG pid<span style="color:#ff9d00;font-weight:700">(</span>s<span style="color:#ff9d00;font-weight:700">)</span></pre></div></p><p>Signal name here must be in all capital letters.</p><p></p><p><img src="images/50-3.png" alt="images/50-3.png" /></p><p></p><p>3.</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">kill</span> -signa_full_name pid<span style="color:#ff9d00;font-weight:700">(</span>s<span style="color:#ff9d00;font-weight:700">)</span></pre></div></p><p>Signal name must be in capital letters.</p><p></p><p><img src="images/50-4.png" alt="images/50-4.png" /></p><p></p><p>Another useful signal signal is SIGHUP or number 1 signal. Services like servers only load config when they are started. We can send SIGHUP command to reload the config.</p><p></p><p>Process id of some processes is stored under /var/run with .pid extension(like for ssh daemon).</p><p></p><p>Process can catch signal and drop them.</p><p></p><p>For example when we send TERM signal, process can end immediately or can wait for some time to clean resources. The TERM signal is also known as soft kill.</p><p></p><p>We can send SIGKILL signal to kill process immediately. It can be used when TERM is dropped.</p><p></p><p><strong>killall</strong> can be used to kill all instances of a process by its name.</p><p></p><p><img src="images/50-5.png" alt="images/50-5.png" /></p><p></p><p>The sleep command causes terminal to pause. We added ampersand to make that process a backgroud process.</p><p></p><p>Note that killall cannot use partial names. Use pkill command if you want to kill with partial names.</p><p></p><p>Note that user can kill process with same privileges as its privilege levels. Eg simple user cannot kill root processes.</p></div>
</body>
</html>
