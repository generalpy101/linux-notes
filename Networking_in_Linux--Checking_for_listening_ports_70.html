<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Checking for listening ports</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Checking for listening ports</h1><br/><p>Checking which service is used on which port is important to troubleshoot problems.</p><p></p><p>netstat is one such command which can be used to know which services are running on which ports.</p><p></p><p><img src="images/70-1.png" alt="images/70-1.png" /></p><p></p><p>-t is used to show tcp ports.</p><p>-u is used to show udp ports.</p><p>-p is used to show process name and id.</p><p>-a is used to show all ports, open or not.</p><p>-n makes <strong>netstat</strong> print addresses as dotted quad IP numbers rather than the symbolic host and network names.s</p><p></p><p>• 0.0.0.0 is a non-routable meta-address used to designate an invalid, unknown, or non-applicable target (a ‘no particular address’ place holder).</p><p></p><p>There is another command known as ss(socket statistics) which is now available as an replacement to netstat command. Almost all options of it are same as netstat.</p><p></p><p><img src="images/70-2.png" alt="images/70-2.png" /></p><p></p><p>lsof command can be used to list all files opened by any process.</p><p>Output of lsof given to less :</p><p><img src="images/70-3.png" alt="images/70-3.png" /></p><p></p><p>To search for files opened by a process run by a particular user, use -u flag.</p><p><img src="images/70-4.png" alt="images/70-4.png" /></p><p></p><p>All process run by generalpy.</p><p></p><p>Use -c to list open files by a particular process.</p><p><img src="images/70-5.png" alt="images/70-5.png" /></p><p></p><p>To check all open tcp ports using lsof use :</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">sudo</span> lsof -iTCP -sTCP<span style="color:#ff9d00;font-weight:700">:</span>LISTEN</pre></div></p><p></p><p><img src="images/70-6.png" alt="images/70-6.png" /></p><p></p><p>User -nP to show hostnames and ports in numeric form.</p><p><img src="images/70-7.png" alt="images/70-7.png" /></p><p></p><p>To show info about any particular port by appending : and port number after -iTCP.</p><p></p><p>The above commands are used to show open ports on current system also known as local host.</p><p></p><p>To check open ports on different system, use telnet to scan that system or use proffesional port scanner like nmap.</p><p></p><p><div class="codebox"><pre>telnet ip port</pre></div></p><p>Above command will check if port is open.</p><p></p><p><img src="images/70-8.png" alt="images/70-8.png" /></p><p></p><p>443 is open and 22 is closed.</p></div>
</body>
</html>
