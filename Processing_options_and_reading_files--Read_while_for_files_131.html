<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Read while for files</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Read while for files</h1><br/><p>We can manipulate the fact that while loop also accepts arguments to use read command with while and take files as input and read them line by line.</p><p></p><p>Syntax :</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">while</span> <span style="color:#ff9d00;font-weight:700">read</span> var <br /><span style="color:#ff9d00;font-weight:700">do</span><br />    <span style="color:#0088ff;font-weight:400">#commands</span><br /><span style="color:#ff9d00;font-weight:700">done</span> &lt; <span style="color:#ff9d00;font-weight:700">file</span></pre></div></p><p>Here read will return 0 if it successfully accepts input else retunrs non zero number hence running the while loop. In the end after done, we redirect the stdin to a file. One common mistake is to redirect stdin of read command instead of while loop. This is wrong as it will only read first line of file and will cause an infinite loop.</p><p></p><p><img src="images/131-1.png" alt="images/131-1.png" /></p><p></p><p>We can also redirect output of any command(or process to be precise) to stdin using something known as process substitution. Process substitution is a method thru which we can change process to a file.</p><p></p><p>Sytax of process substitution is :</p><p><div class="codebox"><pre>&lt;<span style="color:#ff9d00;font-weight:700">(</span>command<span style="color:#ff9d00;font-weight:700">/</span>process<span style="color:#ff9d00;font-weight:700">)</span></pre></div> </p><p>This will point the output to a file created in dev directory usually.</p><p><img src="images/131-2.png" alt="images/131-2.png" /></p><p></p><p>This method can help us to read thru command output using read while loops, just replace the file with process substituion.</p><p></p><p><a href="https://stackoverflow.com/questions/28927162/why-process-substitution-does-not-always-work-with-while-loop-in-bash">Process sustitution possible mistake</a> </p><p><a href="https://www.gnu.org/software/bash/manual/bash.html#Process-Substitution">Process substitution</a></p></div>
</body>
</html>
