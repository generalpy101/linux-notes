<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>DPKG(Ubuntu and Debian based distros)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>DPKG(Ubuntu and Debian based distros)</h1><br/><p>dpkg is a low level tool which can be used to manage packages on debian based linux distros.</p><p></p><p>In linux we have to either install sources by building them from source, which is taking source code and compiling the code to get executable or use binaries which are precompiled executables.</p><p></p><p>We can use dpkg to install packages using .deb files where deb stands for debra which is name of wife of dpkg creator.</p><p></p><p>deb files are archives which contain executable and files required by the application along with some metadata.</p><p></p><p><img src="images/79-1.png" alt="images/79-1.png" /></p><p></p><p>Data inside the deb package of chrome. Here control.tar.xz archive contains metadata and data.tar.xz contains files required by the application.</p><p></p><p>Other advanced package management tools like apt, synaptic etc. use dpkg under the hood. dpkg by itself cannot use repositories and cannot resolve dependecies.</p><p></p><p>To get info about a deb archive user :</p><p><div class="codebox"><pre>dpkg --info deb_file_name</pre></div> </p><p></p><p><img src="images/79-2.png" alt="images/79-2.png" /></p><p></p><p>To install a package from a deb file, use -i flag with dpkg.</p><p>Note that only root can make package changes in a linux system</p><p><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">sudo</span> dpkg -i package_name</pre></div></p><p>Chrome was preinstalled here.</p><p><img src="images/79-3.png" alt="images/79-3.png" /></p><p></p><p>We can also install multiple packages at once using dpkg by writing names of all pakages after -i flag. This is extremely useful when dealing with cyclic dependencies.</p><p><img src="images/79-4.png" alt="images/79-4.png" /></p><p></p><p>Above image is an example of cyclic dependency. Package A depends on B, B depends on C and C depends on A. In this type of case we have to write names of all packages on a single line.</p><p></p><p>--get-selections flag can be used to show list of all installed packages on the system.</p><p>Using less with dpkg.</p><p><img src="images/79-5.png" alt="images/79-5.png" /></p><p></p><p>To see a list of all packages installed along with package version, architecture, short desc etc use </p><p><div class="codebox"><pre>dpkg-query -l</pre></div></p><p></p><p><img src="images/79-6.png" alt="images/79-6.png" /></p><p></p><p>Here two letters at the beginning (eg : ii) show the desired state and status of the package respectively.</p><p></p><p>To see a list of all files installed by a package use -L flag with dpkg. When using this option, we have to get full name of the package which we can get using greping any of the above command.</p><p></p><p><img src="images/79-7.png" alt="images/79-7.png" /></p><p></p><p>To know which file belongs to which package we can use -S option followed by that file&#39;s absolute path.</p><p><img src="images/79-8.png" alt="images/79-8.png" /></p><p></p><p><img src="images/79-9.png" alt="images/79-9.png" /></p><p></p><p>To remove a package use -r flag with dpkg. When using -r, some config files of the package will remain and will persist on next installation. To remove those files use -P or --purge flag with dpkg.</p></div>
</body>
</html>
