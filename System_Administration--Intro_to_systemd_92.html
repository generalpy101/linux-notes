<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Intro to systemd</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Intro to systemd</h1><br/><p>In unix and linux, init is the first process that is run. Systemd is new type of init process which replaced old SysVnit in ubuntu from 17.04 and centos from 7.</p><p></p><p>Linux booting is : start -&gt; kernel -&gt; loads important files(like initram disk, os etc.) -&gt; systemd -&gt; systemd mounts disks and starts services.</p><p></p><p>Systemd can load services in parallel.</p><p></p><p><img src="images/92-1.png" alt="images/92-1.png" /></p><p></p><p><img src="images/92-2.png" alt="images/92-2.png" /></p><p></p><p>Use systemd-analyze to determine system bootup time</p><p><img src="images/92-3.png" alt="images/92-3.png" /></p><p></p><p>Use systemd-analyze blame to know time taken by each process during startup.</p><p><img src="images/92-4.png" alt="images/92-4.png" /></p><p></p><p>systemd introduces units such as service units, socket units, mount units etc. For service manaegment , service units have configuration files with suffix .service which instructs systemd how to load services.</p><p><a href="https://www.digitalocean.com/community/tutorials/understanding-systemd-units-and-unit-files#:~:text=In%20systemd%20%2C%20a%20unit%20refers,configuration%20files%20called%20unit%20files.">Digitalocean</a></p><p></p><p><h2>Managing services with systemctl</h2></p><p></p><p>systemctl can be used to manage systemd system and service manager.</p><p></p><p>There are some basic functions we can do with the services.</p><p></p><p>We can see startus of a service  by </p><p><div class="codebox"><pre>systemctl status service</pre></div></p><p>We are not required to add .service at the end as systemctl can understand service without the .service extension.</p><p></p><p><img src="images/92-5.png" alt="images/92-5.png" /></p><p></p><p>To start a service use :</p><p><div class="codebox"><pre>systemctl start service</pre></div></p><p></p><p>To stop a service use :</p><p><div class="codebox"><pre>systemctl stop service</pre></div></p><p></p><p><img src="images/92-6.png" alt="images/92-6.png" /></p><p></p><p>Services are started at boot time. We can enable or disable services to start at boot time by using.</p><p></p><p><div class="codebox"><pre>systemctl enable<span style="color:#ff9d00;font-weight:700">/</span>disable service</pre></div></p><p><img src="images/92-7.png" alt="images/92-7.png" /></p><p></p><p><img src="images/92-8.png" alt="images/92-8.png" /></p><p></p><p>Note that enable/disable will not take effect till we restart the session while start/stop take effect in current session.</p><p></p><p>We can restrict a service from starting by using mask option</p><p><div class="codebox"><pre>systemctl mask service</pre></div></p><p><img src="images/92-9.png" alt="images/92-9.png" /></p><p></p><p>Use unmask to unmask the service.</p><p></p><p>Use is-enabled to check if a service is enabled or disabled.</p><p><img src="images/92-10.png" alt="images/92-10.png" /></p><p></p><p>To list all units systemd knows about, use list-units. To list all units loaded by systemd even if they are not active.</p><p></p><p><img src="images/92-11.png" alt="images/92-11.png" /></p></div>
</body>
</html>
