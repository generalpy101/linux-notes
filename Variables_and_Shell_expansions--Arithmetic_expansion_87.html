<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Arithmetic expansion</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Arithmetic expansion</h1><br/><p>We cannot simply write arithmetic expression in a bash script. If we do, bash will not evaluate the expression, it will treat it as a command.</p><p></p><p>To perform simple integer arithmetic calculations we use arithmetic expansion.</p><p></p><p><div class="codebox"><pre>$<span style="color:#ff9d00;font-weight:700">((</span>expression<span style="color:#ff9d00;font-weight:700">))</span></pre></div></p><p></p><p>Available operators in bash are : + - / * ** %.</p><p></p><p><img src="images/87-1.png" alt="images/87-1.png" /></p><p></p><p><div class="codebox"><pre><span style="color:#0088ff;font-weight:400">#!/bin/bash</span><br /><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4+2<span style="color:#ff9d00;font-weight:700">))</span><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4 - 2<span style="color:#ff9d00;font-weight:700">))</span><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4 * 2 <span style="color:#ff9d00;font-weight:700">))</span><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4 <span style="color:#ff9d00;font-weight:700">/</span> 2<span style="color:#ff9d00;font-weight:700">))</span><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4 ** 2<span style="color:#ff9d00;font-weight:700">))</span><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4 % 2<span style="color:#ff9d00;font-weight:700">))</span></pre></div></p><p></p><p>We can also use numeric variables in calculations. When using numeric variables, we don&#39;t need to expand variables, it is completely optional.</p><p></p><p><img src="images/87-2.png" alt="images/87-2.png" /></p><p></p><p><div class="codebox"><pre><span style="color:#0088ff;font-weight:400">#!/bin/bash</span><br /><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4+2<span style="color:#ff9d00;font-weight:700">))</span><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4 - 2<span style="color:#ff9d00;font-weight:700">))</span><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4 * 2 <span style="color:#ff9d00;font-weight:700">))</span><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4 <span style="color:#ff9d00;font-weight:700">/</span> 2<span style="color:#ff9d00;font-weight:700">))</span><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4 ** 2<span style="color:#ff9d00;font-weight:700">))</span><br /><span style="color:#ff9d00;font-weight:700">echo</span> $<span style="color:#ff9d00;font-weight:700">((</span>4 % 2<span style="color:#ff9d00;font-weight:700">))</span><br /><br /><span style="color:#7f0044;font-weight:400">x</span>=6<br /><span style="color:#7f0044;font-weight:400">y</span>=2</pre></div></p><p></p><p>Note that bash cannot handle decimals. If output of an expression is in decimal form, output is given in integer form(precision dropped).</p><p></p><p><img src="images/87-3.png" alt="images/87-3.png" /></p><p></p><p>To perform decimal calculations we can use bc command. bc stands for basic calculation and according to gnu manual it is a programming language of its own which can be used to perform mathematical calculations with hight precision.</p><p></p><p><img src="images/87-4.png" alt="images/87-4.png" /></p><p></p><p>bc has an internal variable known as scale which decides the precision or numbers after decimal places. We have to set it to have a decimal output.</p><p></p><p>We can also run bc without that interactive mode by piping expressions to it which is the method we use inside scripts. Just ensure that expression is enclosed in quotes and separate expressions by semicolons.</p><p><img src="images/87-5.png" alt="images/87-5.png" /></p></div>
</body>
</html>
