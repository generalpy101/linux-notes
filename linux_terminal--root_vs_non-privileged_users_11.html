<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>root vs non-privileged users</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>root vs non-privileged users</h1><br/><p>There are 2 types of users in Linux(according to privileges) :-</p><p>1.<strong> non-root User</strong> : These user have a limited number of permissions which are only applied to their own domain(folders and configs own by that user). Admin tasks , tasks like installing new software for whole pc, creating or deleting users etc are not available to this type of user.</p><p>2. <strong>root User</strong> : Root user is like god user. It can change anything and access anything present on the OS.</p><p></p><p>Since root user is very powerful linux usually don&#39;t allow to login to root. Even a single spelling mistake can result in destruction of PC.</p><p></p><p>But some tasks like installing software, creating and deleting groups etc. need root privileges. root privileges can be accessed in many ways some of which are listed below :</p><p></p><p><strong>sudo su Command</strong> :- sudo su command can be used to spawn a root user terminal for that current session. Note that if terminal is closed, everything will revert back to the user currently logged in. When you enter sudo su, terminal asks for password of current user(not root). If password is entered correctly and that user is in a group called <strong>sudo</strong> on Ubuntu or <strong>wheel</strong> in CentOS then root shell is granted.</p><p><img src="images/11-1.png" alt="images/11-1.png" /></p><p>Notice in image above how user was generalpy first and root after running sudo su command. Also note that generalpy is in sudo group as shown in output for id in generalpy&#39;s terminal( 27(sudo)).</p><p>To exit root shell you can type exit. To activate root shell(if it was activated in current shell previously) type <em>sudo su -</em> .</p><p><img src="images/11-2.png" alt="images/11-2.png" /></p><p>This is what happens when user other than that of sudo groups tries to access root terminal.</p><p><img src="images/11-3.png" alt="images/11-3.png" /></p><p></p><p><strong>Add sudo before command</strong> : This method is generally used by people. Just add <em>sudo</em> before each command you want to run with root. Shell will ask for user&#39;s passwd and then if user is in sudo grp(sudoers file to be precise) root privileges will be granted for that command.</p><p></p><p>groupadd is a command which needs root privileges to execute(this command creates new groups), here is an example of using groupadd without sudo and with sudo. Note that the user is still generalpy</p><p><img src="images/11-4.png" alt="images/11-4.png" /></p><p></p><p>The sudo policy caches the user&#39;s <span style="color:#171212;">credential</span>s for 5 minutes after using to sudo command. That means if you use sudo and enter your password, for next 5 minutes you don&#39;t need to enter your password if you use sudo till next 5 minutes. When you run sudo again within 5 minutes of last sudo, timestamp on your credentials is automatically updated.</p><p>You can update timestamp on credentials using <em>sudo -v</em> command. You can also erase/invalidate credentials by using <em>sudo -k</em> .</p><p></p><p>Note how password is not required when sudo is used for second time and it is required after using sudo -k command.</p><p><img src="images/11-5.png" alt="images/11-5.png" /></p><p></p><p><strong>Temporarily becoming root by using su</strong> : We can temporarily become root by using su and entering root user password. This method is not available in many linux distros by default(in ubuntu not available but available in centos). In Ubuntu, during installation you do not add root password. Hence you cannot log into root account by any way. Note that not having password don&#39;t mean that you can log into root without any password by simply pressing enter, not having password means that you cannot log in at all.</p><p>To set linux password, <strong>passwd</strong> command is used. Once we set password we can log into root by using su and entering password. Note that this method can only be used in terminal, you are still non root user in gui and you cannot log in as root in gui.</p><p></p><p>Setting password of root and getting temporary root access.</p><p><img src="images/11-6.png" alt="images/11-6.png" /></p><p></p><p>This method is different from method 1 as in method 1 only  users  in sudoers file can gain root terminal but by using this method anyone can get root terminal(offc they need root password). Also password asked in method 1 is for currently logged in user and password asked in this method is for root user.</p><p></p><p>Word root is used for many things in linux terminal. For example root is the <strong>base directory</strong> for whole linux file system which is located at<strong> / </strong>and there is a directory <strong>/root</strong> which is home directory of root user. Please note that root directory(/) and /root directories are different.</p></div>
</body>
</html>
